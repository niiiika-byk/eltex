{"name": "Сводный отчет по всем traceroute тестам", "status": "failed", "statusDetails": {"message": "Failed: Не все тесты прошли успешно:\n192.168.43.2 - не пройден\n192.168.42.2 - не пройден", "trace": "@allure.epic(\"Сетевые тесты\")\n    @allure.feature(\"Сводный отчет\")\n    @allure.title(\"Сводный отчет по всем traceroute тестам\")\n    def test_traceroute_summary():\n        \"\"\"Сводный отчет по всем traceroute тестам\"\"\"\n    \n        create_network_topology_diagram()\n    \n        summary_results = {}\n        failed_tests = []\n    \n        for ce_ip in IP_DST:\n            with allure.step(f\"Тестирование {ce_ip}\"):\n                try:\n                    hops_info, reached = trace_route_to_ce(ce_ip, VLAN_ID, CE4_INTERFACE)\n    \n                    create_traceroute_path_diagram(hops_info, ce_ip)\n    \n                    # Считаем статистику\n                    correct_hops = sum(1 for hop in hops_info if hop['is_correct'] or hop['expected_ip'] == \"Unknown\")\n                    total_hops = len(hops_info)\n    \n                    success = reached and correct_hops == total_hops\n                    summary_results[ce_ip] = {\n                        'success': success,\n                        'reached': reached,\n                        'correct_hops': correct_hops,\n                        'total_hops': total_hops,\n                        'path': [hop['actual_ip'] for hop in hops_info]\n                    }\n    \n                    if not success:\n                        failed_tests.append(f\"{ce_ip} - не пройден\")\n    \n                except Exception as e:\n                    summary_results[ce_ip] = {\n                        'success': False,\n                        'error': str(e)\n                    }\n                    failed_tests.append(f\"{ce_ip} - ошибка: {str(e)}\")\n    \n        # ДОБАВЬТЕ ПРОВЕРКИ:\n        with allure.step(\"Проверка результатов всех тестов\"):\n            # Проверяем, что все тесты прошли успешно\n            all_success = all(result['success'] for result in summary_results.values())\n    \n            if not all_success:\n                error_msg = f\"Не все тесты прошли успешно:\\n\" + \"\\n\".join(failed_tests)\n                allure.attach(error_msg, name=\"Ошибки в тестах\")\n>               pytest.fail(error_msg)\nE               Failed: Не все тесты прошли успешно:\nE               192.168.43.2 - не пройден\nE               192.168.42.2 - не пройден\n\ntest_traceroute.py:311: Failed"}, "description": "Сводный отчет по всем traceroute тестам", "steps": [{"name": "Тестирование 192.168.43.2", "status": "passed", "steps": [{"name": "Выполнение traceroute к '192.168.43.2'", "status": "passed", "steps": [{"name": "Traceroute к 192.168.43.2", "status": "passed", "attachments": [{"name": "Ожидаемый маршрут", "source": "3e719438-b615-4f3c-9ef6-d177f380144a-attachment.attach"}], "start": 1755750176412, "stop": 1755750176413}, {"name": "Хоп 1", "status": "passed", "attachments": [{"name": "Хоп 1 детали", "source": "c0e5906c-9b95-4c32-8bc2-a797262c75dc-attachment.attach"}], "start": 1755750176413, "stop": 1755750176438}, {"name": "Хоп 2", "status": "passed", "attachments": [{"name": "Хоп 2 детали", "source": "68353c24-c7db-448e-a573-5c42cb8e0469-attachment.attach"}], "start": 1755750176438, "stop": 1755750176463}], "parameters": [{"name": "dst_ip", "value": "'192.168.43.2'"}, {"name": "vlan_id", "value": "4028"}, {"name": "interface", "value": "'enp3s0'"}], "start": 1755750176412, "stop": 1755750176463}], "attachments": [{"name": "Путь до 192.168.43.2", "source": "866d1638-32fc-420e-986d-9930aaecc9fc-attachment.png", "type": "image/png"}], "start": 1755750176412, "stop": 1755750176492}, {"name": "Тестирование 192.168.41.2", "status": "passed", "steps": [{"name": "Выполнение traceroute к '192.168.41.2'", "status": "passed", "steps": [{"name": "Traceroute к 192.168.41.2", "status": "passed", "attachments": [{"name": "Ожидаемый маршрут", "source": "77a3d8dc-c781-4c8c-b139-d302753a7ceb-attachment.attach"}], "start": 1755750176492, "stop": 1755750176493}, {"name": "Хоп 1", "status": "passed", "attachments": [{"name": "Хоп 1 детали", "source": "8fc87f4b-1650-4a17-b7c1-840525b69baf-attachment.attach"}], "start": 1755750176493, "stop": 1755750176513}, {"name": "Хоп 2", "status": "passed", "attachments": [{"name": "Хоп 2 детали", "source": "ee4726f1-7804-4294-a115-945f3c541cb5-attachment.attach"}], "start": 1755750176513, "stop": 1755750176535}], "parameters": [{"name": "dst_ip", "value": "'192.168.41.2'"}, {"name": "vlan_id", "value": "4028"}, {"name": "interface", "value": "'enp3s0'"}], "start": 1755750176492, "stop": 1755750176535}], "attachments": [{"name": "Путь до 192.168.41.2", "source": "ed6ab482-eb44-448f-a15b-62553e3a72d6-attachment.png", "type": "image/png"}], "start": 1755750176492, "stop": 1755750176557}, {"name": "Тестирование 192.168.42.2", "status": "passed", "steps": [{"name": "Выполнение traceroute к '192.168.42.2'", "status": "passed", "steps": [{"name": "Traceroute к 192.168.42.2", "status": "passed", "attachments": [{"name": "Ожидаемый маршрут", "source": "343aadf1-0b6f-4804-8800-df7db285e070-attachment.attach"}], "start": 1755750176557, "stop": 1755750176557}, {"name": "Хоп 1", "status": "passed", "attachments": [{"name": "Хоп 1 детали", "source": "8d02d237-68fb-4c6b-a904-b14794ad4956-attachment.attach"}], "start": 1755750176557, "stop": 1755750176578}, {"name": "Хоп 2", "status": "passed", "attachments": [{"name": "Хоп 2 детали", "source": "ee8b2710-14b4-47f1-8c80-0b72d05748e7-attachment.attach"}], "start": 1755750176578, "stop": 1755750176593}], "parameters": [{"name": "dst_ip", "value": "'192.168.42.2'"}, {"name": "vlan_id", "value": "4028"}, {"name": "interface", "value": "'enp3s0'"}], "start": 1755750176557, "stop": 1755750176593}], "attachments": [{"name": "Путь до 192.168.42.2", "source": "06cf26f0-7cdd-434d-83de-bf6324229b09-attachment.png", "type": "image/png"}], "start": 1755750176557, "stop": 1755750176617}, {"name": "Проверка результатов всех тестов", "status": "failed", "statusDetails": {"message": "Failed: Не все тесты прошли успешно:\n192.168.43.2 - не пройден\n192.168.42.2 - не пройден\n", "trace": "  File \"/home/veronika/eltex/task_3/tests/test_traceroute.py\", line 311, in test_traceroute_summary\n    pytest.fail(error_msg)\n  File \"/home/veronika/eltex/venv/lib/python3.12/site-packages/_pytest/outcomes.py\", line 177, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n"}, "attachments": [{"name": "Ошибки в тестах", "source": "24d7f818-e536-46e1-a9d2-68bf47ddf876-attachment.attach"}], "start": 1755750176617, "stop": 1755750176617}], "attachments": [{"name": "Сетевая топология", "source": "ca66c8cb-4f64-48aa-b609-0bde158c0e2a-attachment.png", "type": "image/png"}, {"name": "Описание топологии", "source": "df5b783c-cd6d-457b-9aa6-2781b618062c-attachment.txt", "type": "text/plain"}], "start": 1755750176392, "stop": 1755750176618, "uuid": "9dfdfe74-ac65-45b0-bd1b-d70f1d131d9a", "historyId": "e2d0d488f97cb8bdd959f464e4fba7ec", "testCaseId": "e2d0d488f97cb8bdd959f464e4fba7ec", "fullName": "test_traceroute#test_traceroute_summary", "labels": [{"name": "epic", "value": "Сетевые тесты"}, {"name": "feature", "value": "Сводный отчет"}, {"name": "suite", "value": "test_traceroute"}, {"name": "host", "value": "bykova-veronika"}, {"name": "thread", "value": "20721-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_traceroute"}], "titlePath": ["test_traceroute.py"]}