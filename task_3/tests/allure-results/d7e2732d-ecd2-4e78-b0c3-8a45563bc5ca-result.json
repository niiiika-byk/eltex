{"name": "Сводный отчет по всем traceroute тестам", "status": "failed", "statusDetails": {"message": "AssertionError: Не все traceroute тесты прошли успешно\nassert False", "trace": "@allure.epic(\"Сетевые тесты\")\n    @allure.feature(\"Сводный отчет\")\n    @allure.title(\"Сводный отчет по всем traceroute тестам\")\n    def test_traceroute_summary():\n        \"\"\"Сводный отчет по всем traceroute тестам\"\"\"\n    \n        summary_results = {}\n    \n        for ce_ip in IP_DST:\n            with allure.step(f\"Тестирование {ce_ip}\"):\n                try:\n                    hops_info, reached = trace_route_to_ce(ce_ip, VLAN_ID, CE4_INTERFACE)\n    \n                    # Считаем статистику\n                    correct_hops = sum(1 for hop in hops_info if hop['is_correct'] or hop['expected_ip'] == \"Unknown\")\n                    total_hops = len(hops_info)\n    \n                    summary_results[ce_ip] = {\n                        'success': reached and correct_hops == total_hops,\n                        'reached': reached,\n                        'correct_hops': correct_hops,\n                        'total_hops': total_hops,\n                        'path': [hop['actual_ip'] for hop in hops_info]\n                    }\n    \n                except Exception as e:\n                    summary_results[ce_ip] = {\n                        'success': False,\n                        'error': str(e)\n                    }\n    \n        # Создаем сводную таблицу для allure\n        summary_table = \"Цель | Успех | Достигнута | Правильные хопы | Всего хопов | Маршрут\\n\"\n        summary_table += \"-\" * 120 + \"\\n\"\n    \n        for ce_ip, result in summary_results.items():\n            if 'error' in result:\n                summary_table += f\"{ce_ip} | ❌ | - | - | - | Ошибка: {result['error']}\\n\"\n            else:\n                status = \"✅\" if result['success'] else \"❌\"\n                reached = \"✅\" if result['reached'] else \"❌\"\n                summary_table += f\"{ce_ip} | {status} | {reached} | {result['correct_hops']}/{result['total_hops']} | {result['total_hops']} | {' -> '.join(result['path'])}\\n\"\n    \n        allure.attach(summary_table, name=\"Сводная таблица результатов\")\n    \n        # Проверяем, что все тесты прошли успешно\n        all_success = all(result.get('success', False) for result in summary_results.values())\n>       assert all_success, \"Не все traceroute тесты прошли успешно\"\nE       AssertionError: Не все traceroute тесты прошли успешно\nE       assert False\n\ntest_traceroute.py:220: AssertionError"}, "description": "Сводный отчет по всем traceroute тестам", "steps": [{"name": "Тестирование 192.168.43.2", "status": "passed", "steps": [{"name": "Выполнение traceroute к '192.168.43.2'", "status": "passed", "steps": [{"name": "Traceroute к 192.168.43.2 через VLAN 4028", "status": "passed", "attachments": [{"name": "Ожидаемый маршрут", "source": "082bf5b8-2dfd-47e9-b0ff-da5c49edcc54-attachment.attach"}], "start": 1755742103342, "stop": 1755742103342}, {"name": "Хоп 1", "status": "passed", "attachments": [{"name": "Хоп 1 детали", "source": "73579cc4-50bc-44cb-a77d-d22ef77b284a-attachment.attach"}], "start": 1755742103342, "stop": 1755742103360}, {"name": "Хоп 2", "status": "passed", "attachments": [{"name": "Хоп 2 детали", "source": "b26f18da-08bf-40ce-97e0-0198ded28669-attachment.attach"}], "start": 1755742103360, "stop": 1755742103385}], "attachments": [{"name": "Результат", "source": "02ef2125-c20c-4505-8bb3-0dae585cca22-attachment.attach"}], "parameters": [{"name": "dst_ip", "value": "'192.168.43.2'"}, {"name": "vlan_id", "value": "4028"}, {"name": "interface", "value": "'enp3s0'"}], "start": 1755742103342, "stop": 1755742103385}], "start": 1755742103342, "stop": 1755742103385}, {"name": "Тестирование 192.168.41.2", "status": "passed", "steps": [{"name": "Выполнение traceroute к '192.168.41.2'", "status": "passed", "steps": [{"name": "Traceroute к 192.168.41.2 через VLAN 4028", "status": "passed", "attachments": [{"name": "Ожидаемый маршрут", "source": "b3ecf07e-17d7-44e9-af02-0d935e7cf87a-attachment.attach"}], "start": 1755742103385, "stop": 1755742103385}, {"name": "Хоп 1", "status": "passed", "attachments": [{"name": "Хоп 1 детали", "source": "31a2d4a3-867c-4f39-8a89-a9c4e115ee4d-attachment.attach"}], "start": 1755742103386, "stop": 1755742103418}, {"name": "Хоп 2", "status": "passed", "attachments": [{"name": "Хоп 2 детали", "source": "1a642ae0-583d-42fe-945a-5da0ae37d4d1-attachment.attach"}], "start": 1755742103418, "stop": 1755742103441}], "parameters": [{"name": "dst_ip", "value": "'192.168.41.2'"}, {"name": "vlan_id", "value": "4028"}, {"name": "interface", "value": "'enp3s0'"}], "start": 1755742103385, "stop": 1755742103441}], "start": 1755742103385, "stop": 1755742103441}, {"name": "Тестирование 192.168.42.2", "status": "passed", "steps": [{"name": "Выполнение traceroute к '192.168.42.2'", "status": "passed", "steps": [{"name": "Traceroute к 192.168.42.2 через VLAN 4028", "status": "passed", "attachments": [{"name": "Ожидаемый маршрут", "source": "41f83b59-5422-45c8-b17f-fe79fee1e274-attachment.attach"}], "start": 1755742103441, "stop": 1755742103441}, {"name": "Хоп 1", "status": "passed", "attachments": [{"name": "Хоп 1 детали", "source": "aba630c3-8b77-4347-8f5a-2be23fc2633d-attachment.attach"}], "start": 1755742103441, "stop": 1755742103460}, {"name": "Хоп 2", "status": "passed", "attachments": [{"name": "Хоп 2 детали", "source": "287266f6-4153-4c27-93f8-0a1aba4d3c31-attachment.attach"}], "start": 1755742103460, "stop": 1755742103478}], "attachments": [{"name": "Результат", "source": "dab56d07-4a5e-4476-8a2d-5d7d0d39f015-attachment.attach"}], "parameters": [{"name": "dst_ip", "value": "'192.168.42.2'"}, {"name": "vlan_id", "value": "4028"}, {"name": "interface", "value": "'enp3s0'"}], "start": 1755742103441, "stop": 1755742103478}], "start": 1755742103441, "stop": 1755742103478}], "attachments": [{"name": "Сводная таблица результатов", "source": "649d6fb6-cbfc-49b5-9f96-cea8cb1f3a2a-attachment.attach"}], "start": 1755742103342, "stop": 1755742103478, "uuid": "1ccabc82-943f-476a-b83c-2da94e41ab2a", "historyId": "e2d0d488f97cb8bdd959f464e4fba7ec", "testCaseId": "e2d0d488f97cb8bdd959f464e4fba7ec", "fullName": "test_traceroute#test_traceroute_summary", "labels": [{"name": "epic", "value": "Сетевые тесты"}, {"name": "feature", "value": "Сводный отчет"}, {"name": "suite", "value": "test_traceroute"}, {"name": "host", "value": "bykova-veronika"}, {"name": "thread", "value": "7368-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_traceroute"}], "titlePath": ["test_traceroute.py"]}